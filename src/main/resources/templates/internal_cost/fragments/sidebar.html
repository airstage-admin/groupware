<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<!-- 経費精算システム共通サイドバーフラグメント -->
<body>
    <!-- ナビゲーションサイドバー -->
    <nav class="nav-sidebar" th:fragment="sidebar">
        <div class="nav-header">
            <div class="nav-logo">💼</div>
            <div>
                <div class="nav-title">グループウェア</div>
                <div class="nav-subtitle">経費精算システム</div>
            </div>
        </div>

        <div class="nav-menu">
            <!-- メインメニュー -->
            <div class="nav-section">
                <div class="nav-section-title">メインメニュー</div>

                <a class="nav-item" th:classappend="${currentPage == 'home'} ? 'active' : ''" th:href="@{/costs/list}">
                    <span class="nav-item-icon">🏠</span>
                    <span class="nav-item-text">ホーム</span>
                </a>

                <a class="nav-item" th:classappend="${currentPage == 'new'} ? 'active' : ''" th:href="@{/costs/new}">
                    <span class="nav-item-icon">➕</span>
                    <span class="nav-item-text">新規申請</span>
                </a>
            </div>

            <!-- 過去の申請一覧 -->
            <div class="nav-section">
                <div class="nav-section-title">過去の申請</div>

                <a class="nav-item" th:classappend="${currentPage == 'history'} ? 'active' : ''" th:href="@{/costs/history}">
                    <span class="nav-item-icon">✅</span>
                    <span class="nav-item-text">申請履歴</span>
                    <span class="nav-item-badge">3</span>
                </a>
            </div>
        </div>

        <!-- ユーザー情報 -->
        <div class="nav-footer">
            <a th:href="@{/userflow/home}" class="nav-user" style="text-decoration: none; color: inherit;">
                <div class="nav-user-avatar" th:text="${user != null and user.username != null ? #strings.substring(user.username, 0, 1) : 'U'}">U</div>
                <div class="nav-user-info">
                    <div class="nav-user-name" th:text="${user != null and user.username != null ? user.username : 'ユーザー'}">ユーザー名</div>
                    <div class="nav-user-role">一般</div>
                </div>
            </a>
        </div>
    </nav>
</body>
</html>
