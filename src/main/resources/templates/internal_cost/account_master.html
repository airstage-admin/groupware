<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‹˜å®šç§‘ç›®ç®¡ç†ãƒã‚¹ã‚¿ - çµŒè²»ç²¾ç®—ã‚·ã‚¹ãƒ†ãƒ </title>
    <link rel="stylesheet" th:href="@{/css/internal_cost/internal_cost.css}">
    <style>
        /* ãƒã‚¹ã‚¿ç®¡ç†ç”»é¢ç”¨ã‚¹ã‚¿ã‚¤ãƒ« */
        .master-container {
            background: var(--bg-content);
            border-radius: 16px;
            box-shadow: var(--shadow-sm);
            padding: 32px;
        }

        .master-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 24px;
            padding-bottom: 16px;
            border-bottom: 2px solid #EEF2F7;
        }

        .master-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .header-actions {
            display: flex;
            gap: 12px;
        }

        /* æ¤œç´¢ã‚¨ãƒªã‚¢ */
        .filter-area {
            display: flex;
            gap: 16px;
            margin-bottom: 24px;
            flex-wrap: wrap;
        }

        .search-input {
            padding: 8px 12px 8px 36px;
            border: 2px solid #EEF2F7;
            border-radius: 8px;
            font-size: 14px;
            min-width: 300px;
            background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' fill='%23636E72' viewBox='0 0 24 24'%3E%3Cpath d='M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z'/%3E%3C/svg%3E") no-repeat 10px center;
            background-size: 18px;
        }

        .search-input:focus {
            outline: none;
            border-color: #0052D4;
        }

        /* ãƒ†ãƒ¼ãƒ–ãƒ« */
        .data-table {
            width: 100%;
            border-collapse: collapse;
        }

        .data-table thead th {
            background: #F8FAFC;
            padding: 14px 16px;
            text-align: left;
            font-size: 13px;
            font-weight: 600;
            color: var(--text-secondary);
            border-bottom: 2px solid #EEF2F7;
        }

        .data-table tbody td {
            padding: 14px 16px;
            font-size: 14px;
            color: var(--text-primary);
            border-bottom: 1px solid #EEF2F7;
        }

        .data-table tbody tr:hover {
            background: #F8FAFC;
        }

        /* ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒãƒƒã‚¸ */
        .status-badge {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-badge.active {
            background: #D1FAE5;
            color: #065F46;
        }

        .status-badge.inactive {
            background: #FEE2E2;
            color: #991B1B;
        }

        /* ã‚¢ã‚¤ã‚³ãƒ³ãƒãƒƒã‚¸ */
        .icon-badge {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 36px;
            height: 36px;
            border-radius: 8px;
            background: #EBF5FF;
            font-size: 18px;
        }

        /* ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒœã‚¿ãƒ³ */
        .action-buttons {
            display: flex;
            gap: 8px;
        }

        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            padding: 8px 16px;
            border-radius: 6px;
            font-size: 13px;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            border: none;
            text-decoration: none;
        }

        .btn-primary {
            background: linear-gradient(135deg, #0052D4, #4364F7);
            color: white;
        }

        .btn-primary:hover {
            box-shadow: 0 4px 16px rgba(0, 82, 212, 0.35);
            transform: translateY(-1px);
        }

        .btn-edit {
            background: #EEF2F7;
            color: var(--text-primary);
        }

        .btn-edit:hover {
            background: #E2E8F0;
        }

        .btn-delete {
            background: #FEE2E2;
            color: #991B1B;
        }

        .btn-delete:hover {
            background: #FECACA;
        }

        /* èª¬æ˜ãƒ†ã‚­ã‚¹ãƒˆ */
        .description-text {
            font-size: 13px;
            color: var(--text-secondary);
            max-width: 300px;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }

        /* ãƒ¢ãƒ¼ãƒ€ãƒ« */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 16px;
            padding: 32px;
            max-width: 500px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
        }

        .modal-header {
            margin-bottom: 24px;
        }

        .modal-title {
            font-size: 20px;
            font-weight: 700;
            color: var(--text-primary);
        }

        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 12px;
            margin-top: 24px;
            padding-top: 20px;
            border-top: 1px solid #EEF2F7;
        }

        .form-group {
            margin-bottom: 16px;
        }

        .form-label {
            display: block;
            font-size: 14px;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 8px;
        }

        .form-label.required::after {
            content: " *";
            color: #E17055;
        }

        .form-input,
        .form-select,
        .form-textarea {
            width: 100%;
            padding: 12px 16px;
            border: 2px solid #EEF2F7;
            border-radius: 8px;
            font-size: 14px;
            transition: all 0.2s ease;
            background: white;
        }

        .form-input:focus,
        .form-select:focus,
        .form-textarea:focus {
            outline: none;
            border-color: #0052D4;
            box-shadow: 0 0 0 3px rgba(0, 82, 212, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 80px;
        }

        /* ã‚¢ã‚¤ã‚³ãƒ³é¸æŠ */
        .icon-selector {
            display: grid;
            grid-template-columns: repeat(6, 1fr);
            gap: 8px;
            padding: 12px;
            border: 2px solid #EEF2F7;
            border-radius: 8px;
        }

        .icon-option {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 20px;
            transition: all 0.2s ease;
            border: 2px solid transparent;
        }

        .icon-option:hover {
            background: #EBF5FF;
        }

        .icon-option.selected {
            border-color: #0052D4;
            background: #EBF5FF;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ã‚µã‚¤ãƒ‰ãƒãƒ¼ -->
        <div th:replace="~{internal_cost/fragments/sidebar :: sidebar}"></div>

        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <main class="main-content">
            <div class="master-container">
                <div class="master-header">
                    <h1 class="master-title">å‹˜å®šç§‘ç›®ç®¡ç†ãƒã‚¹ã‚¿</h1>
                    <div class="header-actions">
                        <button class="btn btn-primary" onclick="openAddModal()">
                            <span>â•</span>
                            <span>å‹˜å®šç§‘ç›®è¿½åŠ </span>
                        </button>
                    </div>
                </div>

                <!-- æ¤œç´¢ -->
                <div class="filter-area">
                    <input type="text" class="search-input" placeholder="å‹˜å®šç§‘ç›®åã§æ¤œç´¢">
                </div>

                <!-- å‹˜å®šç§‘ç›®ãƒ†ãƒ¼ãƒ–ãƒ« -->
                <table class="data-table">
                    <thead>
                        <tr>
                            <th>ã‚³ãƒ¼ãƒ‰</th>
                            <th>ã‚¢ã‚¤ã‚³ãƒ³</th>
                            <th>å‹˜å®šç§‘ç›®å</th>
                            <th>èª¬æ˜</th>
                            <th>ã‚µãƒ–ã‚«ãƒ†ã‚´ãƒªæ•°</th>
                            <th>ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>ACC001</td>
                            <td><span class="icon-badge">ğŸšƒ</span></td>
                            <td>æ—…è²»äº¤é€šè²»</td>
                            <td class="description-text">å¾“æ¥­å“¡ãŒæ¥­å‹™ã®ãŸã‚ã«é€šå¸¸ã®å‹¤å‹™åœ°ã‚’é›¢ã‚Œã¦ç§»å‹•ã™ã‚‹éš›ã«ç™ºç”Ÿã™ã‚‹è²»ç”¨</td>
                            <td>4</td>
                            <td><span class="status-badge active">æœ‰åŠ¹</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn btn-edit">ç·¨é›†</button>
                                    <button class="btn btn-delete">å‰Šé™¤</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>ACC002</td>
                            <td><span class="icon-badge">ğŸ“±</span></td>
                            <td>é€šä¿¡è²»</td>
                            <td class="description-text">æ¥­å‹™ã§ä½¿ç”¨ã™ã‚‹é›»è©±ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆã€éƒµä¾¿ãªã©ã®é€šä¿¡ã«ã‹ã‹ã‚‹è²»ç”¨</td>
                            <td>3</td>
                            <td><span class="status-badge active">æœ‰åŠ¹</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn btn-edit">ç·¨é›†</button>
                                    <button class="btn btn-delete">å‰Šé™¤</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>ACC003</td>
                            <td><span class="icon-badge">ğŸ“¦</span></td>
                            <td>æ¶ˆè€—å“è²»</td>
                            <td class="description-text">äº‹å‹™ç”¨å“ã€æ–‡æˆ¿å…·ã€å‚™å“ãªã©ã€çŸ­æœŸé–“ã§æ¶ˆè²»ã•ã‚Œã‚‹ç‰©å“ã®è³¼å…¥è²»ç”¨</td>
                            <td>3</td>
                            <td><span class="status-badge active">æœ‰åŠ¹</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn btn-edit">ç·¨é›†</button>
                                    <button class="btn btn-delete">å‰Šé™¤</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>ACC004</td>
                            <td><span class="icon-badge">â˜•</span></td>
                            <td>ä¼šè­°è²»</td>
                            <td class="description-text">ç¤¾å†…å¤–ã®ä¼šè­°ã§ç™ºç”Ÿã™ã‚‹é£²é£Ÿä»£ã€ä¼šå ´è²»ãªã©ã®è²»ç”¨</td>
                            <td>3</td>
                            <td><span class="status-badge active">æœ‰åŠ¹</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn btn-edit">ç·¨é›†</button>
                                    <button class="btn btn-delete">å‰Šé™¤</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>ACC005</td>
                            <td><span class="icon-badge">ğŸ½ï¸</span></td>
                            <td>æ¥å¾…äº¤éš›è²»</td>
                            <td class="description-text">å–å¼•å…ˆã‚„é¡§å®¢ã¨ã®æ¥å¾…ã€è´ˆç­”å“ãªã©ã«ã‹ã‹ã‚‹è²»ç”¨</td>
                            <td>3</td>
                            <td><span class="status-badge active">æœ‰åŠ¹</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn btn-edit">ç·¨é›†</button>
                                    <button class="btn btn-delete">å‰Šé™¤</button>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td>ACC006</td>
                            <td><span class="icon-badge">ğŸ“š</span></td>
                            <td>å›³æ›¸ç ”ä¿®è²»</td>
                            <td class="description-text">æ›¸ç±è³¼å…¥ã€ã‚»ãƒŸãƒŠãƒ¼å‚åŠ è²»ã€è³‡æ ¼å–å¾—è²»ç”¨ãªã©</td>
                            <td>2</td>
                            <td><span class="status-badge inactive">ç„¡åŠ¹</span></td>
                            <td>
                                <div class="action-buttons">
                                    <button class="btn btn-edit">ç·¨é›†</button>
                                    <button class="btn btn-delete">å‰Šé™¤</button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </main>
    </div>

    <!-- å‹˜å®šç§‘ç›®è¿½åŠ ãƒ¢ãƒ¼ãƒ€ãƒ« -->
    <div class="modal-overlay" id="addAccountModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">å‹˜å®šç§‘ç›®è¿½åŠ </h2>
            </div>
            <form id="addAccountForm">
                <div class="form-group">
                    <label class="form-label required">å‹˜å®šç§‘ç›®ã‚³ãƒ¼ãƒ‰</label>
                    <input type="text" class="form-input" required placeholder="ä¾‹: ACC007">
                </div>
                <div class="form-group">
                    <label class="form-label required">å‹˜å®šç§‘ç›®å</label>
                    <input type="text" class="form-input" required placeholder="ä¾‹: ç¦åˆ©åšç”Ÿè²»">
                </div>
                <div class="form-group">
                    <label class="form-label">ã‚¢ã‚¤ã‚³ãƒ³</label>
                    <div class="icon-selector">
                        <div class="icon-option" data-icon="ğŸšƒ">ğŸšƒ</div>
                        <div class="icon-option" data-icon="ğŸ“±">ğŸ“±</div>
                        <div class="icon-option" data-icon="ğŸ“¦">ğŸ“¦</div>
                        <div class="icon-option" data-icon="â˜•">â˜•</div>
                        <div class="icon-option" data-icon="ğŸ½ï¸">ğŸ½ï¸</div>
                        <div class="icon-option" data-icon="ğŸ“š">ğŸ“š</div>
                        <div class="icon-option" data-icon="ğŸ’»">ğŸ’»</div>
                        <div class="icon-option" data-icon="ğŸ¥">ğŸ¥</div>
                        <div class="icon-option" data-icon="ğŸ“">ğŸ“</div>
                        <div class="icon-option" data-icon="ğŸ”§">ğŸ”§</div>
                        <div class="icon-option" data-icon="ğŸ“">ğŸ“</div>
                        <div class="icon-option" data-icon="ğŸ’¡">ğŸ’¡</div>
                    </div>
                    <input type="hidden" id="selectedIcon" value="">
                </div>
                <div class="form-group">
                    <label class="form-label">èª¬æ˜</label>
                    <textarea class="form-textarea" placeholder="ã“ã®å‹˜å®šç§‘ç›®ã®èª¬æ˜ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„"></textarea>
                </div>
                <div class="form-group">
                    <label class="form-label">ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹</label>
                    <select class="form-select">
                        <option value="active">æœ‰åŠ¹</option>
                        <option value="inactive">ç„¡åŠ¹</option>
                    </select>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-edit" onclick="closeAddModal()">ã‚­ãƒ£ãƒ³ã‚»ãƒ«</button>
                    <button type="submit" class="btn btn-primary">è¿½åŠ ã™ã‚‹</button>
                </div>
            </form>
        </div>
    </div>

    <script>
        function openAddModal() {
            document.getElementById('addAccountModal').classList.add('active');
        }

        function closeAddModal() {
            document.getElementById('addAccountModal').classList.remove('active');
        }

        // ã‚¢ã‚¤ã‚³ãƒ³é¸æŠ
        document.querySelectorAll('.icon-option').forEach(option => {
            option.addEventListener('click', function() {
                document.querySelectorAll('.icon-option').forEach(o => o.classList.remove('selected'));
                this.classList.add('selected');
                document.getElementById('selectedIcon').value = this.dataset.icon;
            });
        });

        document.getElementById('addAccountForm').addEventListener('submit', function(e) {
            e.preventDefault();
            // TODO: ã‚µãƒ¼ãƒãƒ¼ã«é€ä¿¡
            alert('å‹˜å®šç§‘ç›®ã‚’è¿½åŠ ã—ã¾ã—ãŸ');
            closeAddModal();
        });

        // ãƒ¢ãƒ¼ãƒ€ãƒ«å¤–ã‚¯ãƒªãƒƒã‚¯ã§é–‰ã˜ã‚‹
        document.getElementById('addAccountModal').addEventListener('click', function(e) {
            if (e.target === this) {
                closeAddModal();
            }
        });
    </script>
</body>
</html>

